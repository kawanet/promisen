!function(n,e){function r(n){function e(){return i.resolve(n)}function u(e){return i.resolve(n.call(this,e))}function o(n){return i.resolve(n)}var i=r.Promise;return arguments.length>1?t(arguments):n instanceof Function?u:null==n?o:arguments.length?e:o}function t(n){function e(e){return n.reduce(u.bind(this),o.resolve(e))}function t(n){return"undefined"==typeof n||null===n?null:r(n)}function u(n,e){return e?n.then(e.bind(this)):n}var o=r.Promise;return null==n?r():(n=Array.prototype.map.call(n,t),e)}function u(n,e,t){function u(r){function u(n){return n?i():c()}var o=n.bind(this,r),i=e.bind(this,r),c=t.bind(this,r);return o().then(u)}return n=null!=n?r(n):r(),e=null!=e?r(e):r(),t=null!=t?r(t):r(),u}function o(n,e){function t(n){return f[0]+=e,c(n)}function u(n){return f[0]-=e,c(n)}function o(){return c(f[0])}function i(n){return f[0]=n-0||0,c(n)}n=n-0||0,e=e-0||1;var c=r(),f=[n];return f.incr=t,f.decr=u,f.get=o,f.set=i,f}function i(){var n=[],e=r();return n.push=function(r){return Array.prototype.push.call(n,r),e(r)},n.pop=function(){var r=Array.prototype.pop.call(n);return e(r)},n}n&&(n.exports=r),!n&&e&&(e.promisen=r);var c="undefined"==typeof Promise&&"undefined"!=typeof require;r.Promise=c?require("es6-promise").Promise:Promise,r.series=t,r.createConditional=u,r.createCounter=o,r.createStack=i}("undefined"!=typeof module&&module,"undefined"!=typeof window&&window);