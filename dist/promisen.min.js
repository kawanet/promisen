!function(n,r){function t(n){function r(){return t.Promise.resolve(n)}function u(r){return t.Promise.resolve(n.call(this,r))}return arguments.length>1?o(arguments):n instanceof Function?u:null==n?e:arguments.length?r:e}function e(n){return t.Promise.resolve(n)}function o(n){function r(r){return n.reduce(u.bind(this),e(r))}function o(n){return null!=n&&t(n)}function u(n,r){return r?n.then(r.bind(this)):n}return null===n?t(n):null==n?t():(n=Array.prototype.map.call(n,o),r)}function u(n){function r(n){return o([d(e),n,y(u)])}if(null==n)return t([]);var e=[],u=[];return n=Array.prototype.map.call(n,r),n=o(n),o([y(e),n,u])}function l(n){function r(r){var e=Array.prototype.map.call(n,o.bind(this,r));return t.Promise.all(e)}function e(n){return t(n)}function o(n,r){return r.call(this,n)}return null==n?t([]):(n=Array.prototype.map.call(n,e),r)}function i(n,r,e){function o(t){function o(n){return n?l():i()}var u=n.bind(this,t),l=r.bind(this,t),i=e.bind(this,t);return u().then(o)}return n=null!=n?t(n):t(),r=null!=r?t(r):t(),e=null!=e?t(e):t(),o}function c(n,r){function e(n){return l.call(this,n)}n=null!=n?t(n):t();var u=Array.prototype.slice.call(arguments,1);u.push(e),r=o(u);var l=i(n,r);return l}function a(n,r){function e(n){return n=Array.prototype.map.call(n,l),u(n).call(this)}function l(n){return o([n,r])}n=null!=n?t(n):t();var i=Array.prototype.slice.call(arguments,1);return r=o(i),o([n,e])}function f(n,r){function e(n){return n=Array.prototype.map.call(n,u),l(n).call(this)}function u(n){return o([n,r])}n=null!=n?t(n):t();var i=Array.prototype.slice.call(arguments,1);return r=o(i),o([n,e])}function s(n){function r(){return n.length||Array.prototype.push.call(n,0),e(++n[n.length-1])}return r}function p(n){function r(){return n.length||Array.prototype.push.call(n,0),e(--n[n.length-1])}return r}function y(n){function r(r){return Array.prototype.push.call(n,r),e(r)}return r}function h(n){function r(){var r=Array.prototype.pop.call(n);return e(r)}return r}function d(n){function r(){var r=n[n.length-1];return e(r)}return r}function m(n){function r(r){return"undefined"!==console&&console.warn instanceof Function&&(n?console.warn(n,r):console.warn(r)),e(r)}return r}function g(n){function r(r){return"undefined"!==console&&console.log instanceof Function&&(n?console.log(n,r):console.log(r)),e(r)}return r}n&&(n.exports=t),!n&&r&&(r.promisen=t);var v="undefined"==typeof Promise&&"undefined"!=typeof require;t.Promise=v?require("es6-promise").Promise:Promise,t.waterfall=o,t.series=u,t.parallel=l,t.each=f,t.eachSeries=a,t.IF=t["if"]=i,t.WHILE=t["while"]=c,t.incr=s,t.decr=p,t.push=y,t.pop=h,t.top=d,t.log=g,t.warn=m}("undefined"!=typeof module&&module,"undefined"!=typeof window&&window);